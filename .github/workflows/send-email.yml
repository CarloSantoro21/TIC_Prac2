name: Send Email Notification

on:
  push:
    branches:
      - main
      - feature_a
      - feature_b

jobs:
  send-email:
    runs-on: ubuntu-latest
    steps:
      - name: Send Email (Resend)
        run: |
          curl -X POST "https://api.resend.com/emails" \
          -H "Authorization: Bearer ${{ secrets.RESEND_API_KEY }}" \
          -H "Content-Type: application/json" \
          -d "{
            \"from\": \"GitHub Bot\",
            \"to\": \"alessandrosantoro212121@gmail.com\",
            \"subject\": \"Cambios subidos a rama ${GITHUB_REF_NAME}\",
            \"text\": \"Se han realizado cambios en la rama ${GITHUB_REF_NAME}\n\nDetalles:\n- Commit: ${GITHUB_SHA}\n- Autor: ${GITHUB_ACTOR}\n- Mensaje: ${GITHUB_EVENT_HEAD_COMMIT_MESSAGE}\"
          }"
